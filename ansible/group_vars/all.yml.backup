---
# Global packages / versions
prometheus_version: "2.46.0"
node_exporter_version: "1.7.0"
alertmanager_version: "0.25.0"

# Prometheus install paths and service account
prometheus_service_user: prometheus
prometheus_service_group: prometheus
prometheus_install_dir: /opt/prometheus
prometheus_data_dir: /var/lib/prometheus

# Bind address used by systemd ExecStart and nginx template
prometheus_bind_address: "0.0.0.0:9090"

# nginx reverse proxy listening port (external)
nginx_proxy_listen: 9090

# S3 backup bucket (optional)
s3_backup_bucket: prometheus-setup-backup

# AWS region & bastion
aws_region: ap-south-1
bastion_host: 43.205.241.18

# Dynamically resolve primary/standby from hostvars (works once hostvars exist)
primary_private_ip: "{{ hostvars | dict2items | selectattr('value.tags.Role','equalto','prometheus_primary') | map(attribute='value.ansible_host') | first }}"
standby_private_ip: "{{ hostvars | dict2items | selectattr('value.tags.Role','equalto','prometheus_standby') | map(attribute='value.ansible_host') | first }}"
